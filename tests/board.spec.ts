import { describe, expect, test } from 'vitest'

import {
  type Direction,
  type Position,
  type Vec,
  walk,
} from '@/index'

describe('walk', () => {
  const tests: {
    from: Position,
    direction: Direction,
    expected: Position[],
  }[] = [
    { from: 'a1', direction: 0, expected: ['a2', 'a3', 'a4', 'a5', 'a6'] },
    { from: 'a1', direction: 1, expected: ['b3', 'c5', 'd7', 'e9', 'f11'] },
    { from: 'a1', direction: 2, expected: ['b2', 'c3', 'd4', 'e5', 'f6', 'g6', 'h6', 'i6', 'k6', 'l6'] },
    { from: 'a1', direction: 3, expected: ['c2', 'e3', 'g3', 'i2', 'l1'] },
    { from: 'a1', direction: 4, expected: ['b1', 'c1', 'd1', 'e1', 'f1'] },
    { from: 'a1', direction: 5, expected: [] },
    { from: 'a1', direction: 6, expected: [] },
    { from: 'a1', direction: 7, expected: [] },
    { from: 'a1', direction: 8, expected: [] },
    { from: 'a1', direction: 9, expected: [] },
    { from: 'a1', direction: 10, expected: [] },
    { from: 'a1', direction: 11, expected: [] },

    { from: 'a2', direction: 0, expected: ['a3', 'a4', 'a5', 'a6'] },
    { from: 'a2', direction: 1, expected: ['b4', 'c6', 'd8', 'e10'] },
    { from: 'a2', direction: 2, expected: ['b3', 'c4', 'd5', 'e6', 'f7', 'g7', 'h7', 'i7', 'k7'] },
    { from: 'a2', direction: 3, expected: ['c3', 'e4', 'g4', 'i3', 'l2'] },
    { from: 'a2', direction: 4, expected: ['b2', 'c2', 'd2', 'e2', 'f2', 'g1'] },
    { from: 'a2', direction: 5, expected: ['b1'] },
    { from: 'a2', direction: 6, expected: ['a1'] },
    { from: 'a2', direction: 7, expected: [] },
    { from: 'a2', direction: 8, expected: [] },
    { from: 'a2', direction: 9, expected: [] },
    { from: 'a2', direction: 10, expected: [] },
    { from: 'a2', direction: 11, expected: [] },

    { from: 'a3', direction: 0, expected: ['a4', 'a5', 'a6'] },
    { from: 'a3', direction: 1, expected: ['b5', 'c7', 'd9'] },
    { from: 'a3', direction: 2, expected: ['b4', 'c5', 'd6', 'e7', 'f8', 'g8', 'h8', 'i8'] },
    { from: 'a3', direction: 3, expected: ['c4', 'e5', 'g5', 'i4', 'l3'] },
    { from: 'a3', direction: 4, expected: ['b3', 'c3', 'd3', 'e3', 'f3', 'g2', 'h1'] },
    { from: 'a3', direction: 5, expected: ['b2', 'c1'] },
    { from: 'a3', direction: 6, expected: ['a2', 'a1'] },
    { from: 'a3', direction: 7, expected: [] },
    { from: 'a3', direction: 8, expected: [] },
    { from: 'a3', direction: 9, expected: [] },
    { from: 'a3', direction: 10, expected: [] },
    { from: 'a3', direction: 11, expected: [] },

    { from: 'a4', direction: 0, expected: ['a5', 'a6'] },
    { from: 'a4', direction: 1, expected: ['b6', 'c8'] },
    { from: 'a4', direction: 2, expected: ['b5', 'c6', 'd7', 'e8', 'f9', 'g9', 'h9'] },
    { from: 'a4', direction: 3, expected: ['c5', 'e6', 'g6', 'i5', 'l4'] },
    { from: 'a4', direction: 4, expected: ['b4', 'c4', 'd4', 'e4', 'f4', 'g3', 'h2', 'i1'] },
    { from: 'a4', direction: 5, expected: ['b3', 'c2', 'd1'] },
    { from: 'a4', direction: 6, expected: ['a3', 'a2', 'a1'] },
    { from: 'a4', direction: 7, expected: [] },
    { from: 'a4', direction: 8, expected: [] },
    { from: 'a4', direction: 9, expected: [] },
    { from: 'a4', direction: 10, expected: [] },
    { from: 'a4', direction: 11, expected: [] },

    { from: 'a5', direction: 0, expected: ['a6'] },
    { from: 'a5', direction: 1, expected: ['b7'] },
    { from: 'a5', direction: 2, expected: ['b6', 'c7', 'd8', 'e9', 'f10', 'g10'] },
    { from: 'a5', direction: 3, expected: ['c6', 'e7', 'g7', 'i6', 'l5'] },
    { from: 'a5', direction: 4, expected: ['b5', 'c5', 'd5', 'e5', 'f5', 'g4', 'h3', 'i2', 'k1'] },
    { from: 'a5', direction: 5, expected: ['b4', 'c3', 'd2', 'e1'] },
    { from: 'a5', direction: 6, expected: ['a4', 'a3', 'a2', 'a1'] },
    { from: 'a5', direction: 7, expected: [] },
    { from: 'a5', direction: 8, expected: [] },
    { from: 'a5', direction: 9, expected: [] },
    { from: 'a5', direction: 10, expected: [] },
    { from: 'a5', direction: 11, expected: [] },

    { from: 'a6', direction: 0, expected: [] },
    { from: 'a6', direction: 1, expected: [] },
    { from: 'a6', direction: 2, expected: ['b7', 'c8', 'd9', 'e10', 'f11'] },
    { from: 'a6', direction: 3, expected: ['c7', 'e8', 'g8', 'i7', 'l6'] },
    { from: 'a6', direction: 4, expected: ['b6', 'c6', 'd6', 'e6', 'f6', 'g5', 'h4', 'i3', 'k2', 'l1'] },
    { from: 'a6', direction: 5, expected: ['b5', 'c4', 'd3', 'e2', 'f1'] },
    { from: 'a6', direction: 6, expected: ['a5', 'a4', 'a3', 'a2', 'a1'] },
    { from: 'a6', direction: 7, expected: [] },
    { from: 'a6', direction: 8, expected: [] },
    { from: 'a6', direction: 9, expected: [] },
    { from: 'a6', direction: 10, expected: [] },
    { from: 'a6', direction: 11, expected: [] },

    { from: 'b7', direction: 0, expected: [] },
    { from: 'b7', direction: 1, expected: [] },
    { from: 'b7', direction: 2, expected: ['c8', 'd9', 'e10', 'f11'] },
    { from: 'b7', direction: 3, expected: ['d8', 'f9', 'h8', 'k7'] },
    { from: 'b7', direction: 4, expected: ['c7', 'd7', 'e7', 'f7', 'g6', 'h5', 'i4', 'k3', 'l2'] },
    { from: 'b7', direction: 5, expected: ['c6', 'd5', 'e4', 'f3', 'g1'] },
    { from: 'b7', direction: 6, expected: ['b6', 'b5', 'b4', 'b3', 'b2', 'b1'] },
    { from: 'b7', direction: 7, expected: ['a5'] },
    { from: 'b7', direction: 8, expected: ['a6'] },
    { from: 'b7', direction: 9, expected: [] },
    { from: 'b7', direction: 10, expected: [] },
    { from: 'b7', direction: 11, expected: [] },

    { from: 'c8', direction: 0, expected: [] },
    { from: 'c8', direction: 1, expected: [] },
    { from: 'c8', direction: 2, expected: ['d9', 'e10', 'f11'] },
    { from: 'c8', direction: 3, expected: ['e9', 'g9', 'i8'] },
    { from: 'c8', direction: 4, expected: ['d8', 'e8', 'f8', 'g7', 'h6', 'i5', 'k4', 'l3'] },
    { from: 'c8', direction: 5, expected: ['d7', 'e6', 'f5', 'g3', 'h1'] },
    { from: 'c8', direction: 6, expected: ['c7', 'c6', 'c5', 'c4', 'c3', 'c2', 'c1'] },
    { from: 'c8', direction: 7, expected: ['b6', 'a4'] },
    { from: 'c8', direction: 8, expected: ['b7', 'a6'] },
    { from: 'c8', direction: 9, expected: [] },
    { from: 'c8', direction: 10, expected: [] },
    { from: 'c8', direction: 11, expected: [] },

    { from: 'd9', direction: 0, expected: [] },
    { from: 'd9', direction: 1, expected: [] },
    { from: 'd9', direction: 2, expected: ['e10', 'f11'] },
    { from: 'd9', direction: 3, expected: ['f10', 'h9'] },
    { from: 'd9', direction: 4, expected: ['e9', 'f9', 'g8', 'h7', 'i6', 'k5', 'l4'] },
    { from: 'd9', direction: 5, expected: ['e8', 'f7', 'g5', 'h3', 'i1'] },
    { from: 'd9', direction: 6, expected: ['d8', 'd7', 'd6', 'd5', 'd4', 'd3', 'd2', 'd1'] },
    { from: 'd9', direction: 7, expected: ['c7', 'b5', 'a3'] },
    { from: 'd9', direction: 8, expected: ['c8', 'b7', 'a6'] },
    { from: 'd9', direction: 9, expected: [] },
    { from: 'd9', direction: 10, expected: [] },
    { from: 'd9', direction: 11, expected: [] },

    { from: 'e10', direction: 0, expected: [] },
    { from: 'e10', direction: 1, expected: [] },
    { from: 'e10', direction: 2, expected: ['f11'] },
    { from: 'e10', direction: 3, expected: ['g10'] },
    { from: 'e10', direction: 4, expected: ['f10', 'g9', 'h8', 'i7', 'k6', 'l5'] },
    { from: 'e10', direction: 5, expected: ['f9', 'g7', 'h5', 'i3', 'k1'] },
    { from: 'e10', direction: 6, expected: ['e9', 'e8', 'e7', 'e6', 'e5', 'e4', 'e3', 'e2', 'e1'] },
    { from: 'e10', direction: 7, expected: ['d8', 'c6', 'b4', 'a2'] },
    { from: 'e10', direction: 8, expected: ['d9', 'c8', 'b7', 'a6'] },
    { from: 'e10', direction: 9, expected: [] },
    { from: 'e10', direction: 10, expected: [] },
    { from: 'e10', direction: 11, expected: [] },

    { from: 'f11', direction: 0, expected: [] },
    { from: 'f11', direction: 1, expected: [] },
    { from: 'f11', direction: 2, expected: [] },
    { from: 'f11', direction: 3, expected: [] },
    { from: 'f11', direction: 4, expected: ['g10', 'h9', 'i8', 'k7', 'l6'] },
    { from: 'f11', direction: 5, expected: ['g9', 'h7', 'i5', 'k3', 'l1'] },
    { from: 'f11', direction: 6, expected: ['f10', 'f9', 'f8', 'f7', 'f6', 'f5', 'f4', 'f3', 'f2', 'f1'] },
    { from: 'f11', direction: 7, expected: ['e9', 'd7', 'c5', 'b3', 'a1'] },
    { from: 'f11', direction: 8, expected: ['e10', 'd9', 'c8', 'b7', 'a6'] },
    { from: 'f11', direction: 9, expected: [] },
    { from: 'f11', direction: 10, expected: [] },
    { from: 'f11', direction: 11, expected: [] },

    { from: 'g10', direction: 0, expected: [] },
    { from: 'g10', direction: 1, expected: [] },
    { from: 'g10', direction: 2, expected: [] },
    { from: 'g10', direction: 3, expected: [] },
    { from: 'g10', direction: 4, expected: ['h9', 'i8', 'k7', 'l6'] },
    { from: 'g10', direction: 5, expected: ['h8', 'i6', 'k4', 'l2'] },
    { from: 'g10', direction: 6, expected: ['g9', 'g8', 'g7', 'g6', 'g5', 'g4', 'g3', 'g2', 'g1'] },
    { from: 'g10', direction: 7, expected: ['f9', 'e7', 'd5', 'c3', 'b1'] },
    { from: 'g10', direction: 8, expected: ['f10', 'e9', 'd8', 'c7', 'b6', 'a5'] },
    { from: 'g10', direction: 9, expected: ['e10'] },
    { from: 'g10', direction: 10, expected: ['f11'] },
    { from: 'g10', direction: 11, expected: [] },

    { from: 'h9', direction: 0, expected: [] },
    { from: 'h9', direction: 1, expected: [] },
    { from: 'h9', direction: 2, expected: [] },
    { from: 'h9', direction: 3, expected: [] },
    { from: 'h9', direction: 4, expected: ['i8', 'k7', 'l6'] },
    { from: 'h9', direction: 5, expected: ['i7', 'k5', 'l3'] },
    { from: 'h9', direction: 6, expected: ['h8', 'h7', 'h6', 'h5', 'h4', 'h3', 'h2', 'h1'] },
    { from: 'h9', direction: 7, expected: ['g8', 'f7', 'e5', 'd3', 'c1'] },
    { from: 'h9', direction: 8, expected: ['g9', 'f9', 'e8', 'd7', 'c6', 'b5', 'a4'] },
    { from: 'h9', direction: 9, expected: ['f10', 'd9'] },
    { from: 'h9', direction: 10, expected: ['g10', 'f11'] },
    { from: 'h9', direction: 11, expected: [] },

    { from: 'i8', direction: 0, expected: [] },
    { from: 'i8', direction: 1, expected: [] },
    { from: 'i8', direction: 2, expected: [] },
    { from: 'i8', direction: 3, expected: [] },
    { from: 'i8', direction: 4, expected: ['k7', 'l6'] },
    { from: 'i8', direction: 5, expected: ['k6', 'l4'] },
    { from: 'i8', direction: 6, expected: ['i7', 'i6', 'i5', 'i4', 'i3', 'i2', 'i1'] },
    { from: 'i8', direction: 7, expected: ['h7', 'g6', 'f5', 'e3', 'd1'] },
    { from: 'i8', direction: 8, expected: ['h8', 'g8', 'f8', 'e7', 'd6', 'c5', 'b4', 'a3'] },
    { from: 'i8', direction: 9, expected: ['g9', 'e9', 'c8'] },
    { from: 'i8', direction: 10, expected: ['h9', 'g10', 'f11'] },
    { from: 'i8', direction: 11, expected: [] },

    { from: 'k7', direction: 0, expected: [] },
    { from: 'k7', direction: 1, expected: [] },
    { from: 'k7', direction: 2, expected: [] },
    { from: 'k7', direction: 3, expected: [] },
    { from: 'k7', direction: 4, expected: ['l6'] },
    { from: 'k7', direction: 5, expected: ['l5'] },
    { from: 'k7', direction: 6, expected: ['k6', 'k5', 'k4', 'k3', 'k2', 'k1'] },
    { from: 'k7', direction: 7, expected: ['i6', 'h5', 'g4', 'f3', 'e1'] },
    { from: 'k7', direction: 8, expected: ['i7', 'h7', 'g7', 'f7', 'e6', 'd5', 'c4', 'b3', 'a2'] },
    { from: 'k7', direction: 9, expected: ['h8', 'f9', 'd8', 'b7'] },
    { from: 'k7', direction: 10, expected: ['i8', 'h9', 'g10', 'f11'] },
    { from: 'k7', direction: 11, expected: [] },

    { from: 'l6', direction: 0, expected: [] },
    { from: 'l6', direction: 1, expected: [] },
    { from: 'l6', direction: 2, expected: [] },
    { from: 'l6', direction: 3, expected: [] },
    { from: 'l6', direction: 4, expected: [] },
    { from: 'l6', direction: 5, expected: [] },
    { from: 'l6', direction: 6, expected: ['l5', 'l4', 'l3', 'l2', 'l1'] },
    { from: 'l6', direction: 7, expected: ['k5', 'i4', 'h3', 'g2', 'f1'] },
    { from: 'l6', direction: 8, expected: ['k6', 'i6', 'h6', 'g6', 'f6', 'e5', 'd4', 'c3', 'b2', 'a1'] },
    { from: 'l6', direction: 9, expected: ['i7', 'g8', 'e8', 'c7', 'a6'] },
    { from: 'l6', direction: 10, expected: ['k7', 'i8', 'h9', 'g10', 'f11'] },
    { from: 'l6', direction: 11, expected: [] },

    { from: 'l5', direction: 0, expected: ['l6'] },
    { from: 'l5', direction: 1, expected: [] },
    { from: 'l5', direction: 2, expected: [] },
    { from: 'l5', direction: 3, expected: [] },
    { from: 'l5', direction: 4, expected: [] },
    { from: 'l5', direction: 5, expected: [] },
    { from: 'l5', direction: 6, expected: ['l4', 'l3', 'l2', 'l1'] },
    { from: 'l5', direction: 7, expected: ['k4', 'i3', 'h2', 'g1'] },
    { from: 'l5', direction: 8, expected: ['k5', 'i5', 'h5', 'g5', 'f5', 'e4', 'd3', 'c2', 'b1'] },
    { from: 'l5', direction: 9, expected: ['i6', 'g7', 'e7', 'c6', 'a5'] },
    { from: 'l5', direction: 10, expected: ['k6', 'i7', 'h8', 'g9', 'f10', 'e10'] },
    { from: 'l5', direction: 11, expected: ['k7'] },

    { from: 'l4', direction: 0, expected: ['l5', 'l6'] },
    { from: 'l4', direction: 1, expected: [] },
    { from: 'l4', direction: 2, expected: [] },
    { from: 'l4', direction: 3, expected: [] },
    { from: 'l4', direction: 4, expected: [] },
    { from: 'l4', direction: 5, expected: [] },
    { from: 'l4', direction: 6, expected: ['l3', 'l2', 'l1'] },
    { from: 'l4', direction: 7, expected: ['k3', 'i2', 'h1'] },
    { from: 'l4', direction: 8, expected: ['k4', 'i4', 'h4', 'g4', 'f4', 'e3', 'd2', 'c1'] },
    { from: 'l4', direction: 9, expected: ['i5', 'g6', 'e6', 'c5', 'a4'] },
    { from: 'l4', direction: 10, expected: ['k5', 'i6', 'h7', 'g8', 'f9', 'e9', 'd9'] },
    { from: 'l4', direction: 11, expected: ['k6', 'i8'] },

    // { from: 'l3', direction: 0, expected: [] },
    // { from: 'l3', direction: 1, expected: [] },
    // { from: 'l3', direction: 2, expected: [] },
    // { from: 'l3', direction: 3, expected: [] },
    // { from: 'l3', direction: 4, expected: [] },
    // { from: 'l3', direction: 5, expected: [] },
    // { from: 'l3', direction: 6, expected: [] },
    // { from: 'l3', direction: 7, expected: [] },
    // { from: 'l3', direction: 8, expected: [] },
    // { from: 'l3', direction: 9, expected: [] },
    // { from: 'l3', direction: 10, expected: [] },
    // { from: 'l3', direction: 11, expected: [] },

    // { from: 'l2', direction: 0, expected: [] },
    // { from: 'l2', direction: 1, expected: [] },
    // { from: 'l2', direction: 2, expected: [] },
    // { from: 'l2', direction: 3, expected: [] },
    // { from: 'l2', direction: 4, expected: [] },
    // { from: 'l2', direction: 5, expected: [] },
    // { from: 'l2', direction: 6, expected: [] },
    // { from: 'l2', direction: 7, expected: [] },
    // { from: 'l2', direction: 8, expected: [] },
    // { from: 'l2', direction: 9, expected: [] },
    // { from: 'l2', direction: 10, expected: [] },
    // { from: 'l2', direction: 11, expected: [] },

    // { from: 'l1', direction: 0, expected: [] },
    // { from: 'l1', direction: 1, expected: [] },
    // { from: 'l1', direction: 2, expected: [] },
    // { from: 'l1', direction: 3, expected: [] },
    // { from: 'l1', direction: 4, expected: [] },
    // { from: 'l1', direction: 5, expected: [] },
    // { from: 'l1', direction: 6, expected: [] },
    // { from: 'l1', direction: 7, expected: [] },
    // { from: 'l1', direction: 8, expected: [] },
    // { from: 'l1', direction: 9, expected: [] },
    // { from: 'l1', direction: 10, expected: [] },
    // { from: 'l1', direction: 11, expected: [] },

    // { from: 'k1', direction: 0, expected: [] },
    // { from: 'k1', direction: 1, expected: [] },
    // { from: 'k1', direction: 2, expected: [] },
    // { from: 'k1', direction: 3, expected: [] },
    // { from: 'k1', direction: 4, expected: [] },
    // { from: 'k1', direction: 5, expected: [] },
    // { from: 'k1', direction: 6, expected: [] },
    // { from: 'k1', direction: 7, expected: [] },
    // { from: 'k1', direction: 8, expected: [] },
    // { from: 'k1', direction: 9, expected: [] },
    // { from: 'k1', direction: 10, expected: [] },
    // { from: 'k1', direction: 11, expected: [] },

    // { from: 'i1', direction: 0, expected: [] },
    // { from: 'i1', direction: 1, expected: [] },
    // { from: 'i1', direction: 2, expected: [] },
    // { from: 'i1', direction: 3, expected: [] },
    // { from: 'i1', direction: 4, expected: [] },
    // { from: 'i1', direction: 5, expected: [] },
    // { from: 'i1', direction: 6, expected: [] },
    // { from: 'i1', direction: 7, expected: [] },
    // { from: 'i1', direction: 8, expected: [] },
    // { from: 'i1', direction: 9, expected: [] },
    // { from: 'i1', direction: 10, expected: [] },
    // { from: 'i1', direction: 11, expected: [] },

    // { from: 'h1', direction: 0, expected: [] },
    // { from: 'h1', direction: 1, expected: [] },
    // { from: 'h1', direction: 2, expected: [] },
    // { from: 'h1', direction: 3, expected: [] },
    // { from: 'h1', direction: 4, expected: [] },
    // { from: 'h1', direction: 5, expected: [] },
    // { from: 'h1', direction: 6, expected: [] },
    // { from: 'h1', direction: 7, expected: [] },
    // { from: 'h1', direction: 8, expected: [] },
    // { from: 'h1', direction: 9, expected: [] },
    // { from: 'h1', direction: 10, expected: [] },
    // { from: 'h1', direction: 11, expected: [] },

    // { from: 'g1', direction: 0, expected: [] },
    // { from: 'g1', direction: 1, expected: [] },
    // { from: 'g1', direction: 2, expected: [] },
    // { from: 'g1', direction: 3, expected: [] },
    // { from: 'g1', direction: 4, expected: [] },
    // { from: 'g1', direction: 5, expected: [] },
    // { from: 'g1', direction: 6, expected: [] },
    // { from: 'g1', direction: 7, expected: [] },
    // { from: 'g1', direction: 8, expected: [] },
    // { from: 'g1', direction: 9, expected: [] },
    // { from: 'g1', direction: 10, expected: [] },
    // { from: 'g1', direction: 11, expected: [] },
  ]
  
  tests.forEach(t => {
    test(`${t.from} : ${t.direction} = ${t.expected.join(' → ')}`, () => {
      expect(walk(t.from, t.direction), `Board path ${t.from}:${t.direction} failed`).toEqual(t.expected)
    })
  })
})